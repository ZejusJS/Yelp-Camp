<% layout('layouts/boilerplate') %>
<link href="/css/new-edit.css" rel="stylesheet" type="text/css" autocomplete="off">
<form action="/campgrounds/<%= campground._id %>?method-override=PUT" method="POST" enctype="multipart/form-data" class="validated-form edit-camp-form" novalidate>
  <div class="new camp-title">
    <label for="title">Title</label>
    <input required type="text" name="campground[title]" id="title" value="<%= campground.title %>" error-msg="Title must has length between 3 and 40">
  </div>
  <div class=" new camp-location">
    <label for="location">Location</label>
    <div class="location-input-container">
      <svg class="icon-input" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" version="1.1" xml:space="preserve">
        <g id="Maps">
          <path d="M16,1C9.38,1,4,6.38,4,13c0,6.42,10.83,17.25,11.3,17.71C15.49,30.9,15.75,31,16,31s0.51-0.1,0.7-0.29   C17.17,30.25,28,19.42,28,13C28,6.38,22.62,1,16,1z" fill="#fff" />
          <circle cx="16" cy="13" fill="grey" r="5" />
        </g>
      </svg>
      <input required type="text" name="campground[location]" id="location" value="<%= campground.location %>" error-msg="Location must has length between 4 and 60">
    </div>
  </div>
  <div class="new camp-location">
    <label for="price">Price</label>
    <div class="location-input-container">
      <svg class="icon-input" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">
        <line style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" x1="16" y1="4" x2="16" y2="28" />
        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M10,19v1.639C10,23.048,11.952,25,14.361,25h3.279  C20.048,25,22,23.048,22,20.639v0c0-2.107-1.507-3.913-3.581-4.29l-3.839-0.698C12.507,15.274,11,13.468,11,11.361v0  C11,8.952,12.952,7,15.361,7h1.279C19.048,7,21,8.952,21,11.361V13" />
      </svg>
      <input required type="number" min="0" name="campground[price]" id="price" placeholder="0.00" value="<%= campground.price %>" error-msg="Price must has numerals' length between 1 and 40 and must be valid number">
    </div>
  </div>
  <div class="new camp-description">
    <label for="description">Description</label>
    <textarea required type="text" name="campground[description]" id="description" maxlength="999" error-msg="Description must has length between 10 and 1000"><%= campground.description %></textarea>
  </div>
  <div class="new images-div">
    <label for="images">Upload more images</label>
    <input accept="image/*" class="file-inputs" type="file" name="image" id="images" error-msg="Only 7 images can be uploaded (in total with already uploaded images) and image can't be bigger then 10MB" multiple>
  </div>
  <div class="new img-config">
    <h4>Delete images</h4>
    <% campground.images.forEach(function (img, i) { %>
    <div class="img-deletetion-container">
      <input type="checkbox" name="deleteImages[]" value="<%=img.filename%>" id="image-<%=i%>" class="already-img-checkbox">
      <label for="image-<%=i%>">
        <img src="<%= img.url %> " alt="">
      </label>
    </div>
    <% }) %>
  </div>
  <div class="new options">
    <button class="btn btn-success" type="submit">Edit Campground</button>
    <div id="error-msgs">

    </div>
    <div class="back-to-campgrounds">
      <a href="/campgrounds/<%= campground._id %> ">
        <svg class="decline-cross" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
          <path d="M384.955,256l120.28-120.28c9.019-9.019,9.019-23.642,0-32.66L408.94,6.765  c-9.019-9.019-23.642-9.019-32.66,0l-120.28,120.28L135.718,6.765c-9.019-9.019-23.642-9.019-32.66,0L6.764,103.058  c-9.019,9.019-9.019,23.642,0,32.66l120.28,120.28L6.764,376.28c-9.019,9.019-9.019,23.642,0,32.66l96.295,96.294  c9.019,9.019,23.642,9.019,32.66,0l120.28-120.28l120.28,120.28c9.019,9.019,23.642,9.019,32.66,0l96.295-96.294  c9.019-9.019,9.019-23.642,0-32.66L384.955,256z" />
        </svg>Cancel</a>
    </div>
  </div>
</form>
<script src="/js/formValidity.js"></script>